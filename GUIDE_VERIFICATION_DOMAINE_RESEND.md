# Guide √âtape par √âtape : V√©rifier Votre Domaine dans Resend

## üìã Pr√©requis
- Avoir un domaine (ex: `bilibou.com`, `monentreprise.fr`)
- Avoir acc√®s au panel d'administration de votre domaine (chez votre registrar : OVH, Namecheap, Cloudflare, etc.)
- Avoir cr√©√© un compte Resend

---

## √âTAPE 1 : Ajouter le domaine dans Resend

### 1.1 Ouvrir Resend
1. Allez sur **https://resend.com**
2. Connectez-vous avec votre compte
3. Vous arrivez sur le **Dashboard**

### 1.2 Acc√©der √† la section Domains
1. Dans le menu de gauche, cliquez sur **"Domains"**
   - Si vous ne voyez pas "Domains", cherchez dans le menu ou cliquez sur "Settings" puis "Domains"

### 1.3 Ajouter votre domaine
1. Cliquez sur le bouton **"Add Domain"** (ou "+ Add Domain")
2. Une fen√™tre s'ouvre avec un champ de texte
3. Entrez votre domaine :
   - ‚úÖ **Bon** : `bilibou.com` (sans `www`, sans `http://`, sans `https://`)
   - ‚úÖ **Bon** : `monentreprise.fr`
   - ‚ùå **Mauvais** : `www.bilibou.com`
   - ‚ùå **Mauvais** : `http://bilibou.com`
   - ‚ùå **Mauvais** : `https://bilibou.com`
4. Cliquez sur **"Add"** ou **"Continue"**

---

## √âTAPE 2 : R√©cup√©rer les enregistrements DNS

### 2.1 Voir les enregistrements √† ajouter
Apr√®s avoir ajout√© le domaine, Resend affiche une page avec **3 √† 5 enregistrements DNS** √† ajouter.

Vous verrez quelque chose comme :

```
Type    Name          Value
TXT     @             resend-verification:abc123def456...
TXT     resend        resend-verification:xyz789ghi012...
CNAME   resend._domainkey  resend._domainkey.resend.com
SPF     @             v=spf1 include:spf.resend.com ~all
DMARC   _dmarc        v=DMARC1; p=none;
```

**‚ö†Ô∏è IMPORTANT** : Notez ces informations ou gardez cette page ouverte, vous en aurez besoin !

---

## √âTAPE 3 : Trouver votre h√©bergeur DNS / Registrar

### 3.1 Identifier o√π est h√©berg√© votre domaine

Cela d√©pend de o√π vous avez achet√©/configur√© votre domaine. Voici les cas courants :

**Si votre domaine est :**
- **Sur Vercel** ‚Üí Vercel utilise Cloudflare automatiquement
- **Sur Cloudflare** ‚Üí Panel Cloudflare
- **Sur OVH** ‚Üí Panel OVH
- **Sur Namecheap** ‚Üí Panel Namecheap
- **Sur Google Domains** ‚Üí Panel Google
- **Sur ailleurs** ‚Üí Connectez-vous au panel de votre registrar

### 3.2 Comment savoir o√π est votre domaine ?
1. Allez sur **https://whois.com** ou **https://who.is**
2. Entrez votre domaine (ex: `bilibou.com`)
3. Cherchez la ligne **"Registrar"** ou **"Name Server"**
4. Cela vous indiquera o√π g√©rer votre domaine

---

## √âTAPE 4 : Ajouter les enregistrements DNS (Exemples par h√©bergeur)

### üü¶ Option A : Cloudflare (Le plus courant avec Vercel)

#### 4.1 Se connecter
1. Allez sur **https://dash.cloudflare.com**
2. Connectez-vous
3. Cliquez sur votre domaine dans la liste

#### 4.2 Acc√©der aux DNS
1. Dans le menu de gauche, cliquez sur **"DNS"**
2. Vous verrez une section **"Records"**

#### 4.3 Ajouter chaque enregistrement

**Enregistrement 1 : TXT pour la v√©rification**
1. Cliquez sur **"Add record"**
2. **Type** : S√©lectionnez `TXT`
3. **Name** : 
   - Si Resend dit `@` ‚Üí mettez `@` ou le nom de votre domaine nu (ex: `bilibou.com`)
   - Si Resend dit `resend` ‚Üí mettez `resend`
4. **Content** : Copiez-collez la valeur TXT compl√®te de Resend
   - Exemple : `resend-verification:abc123def456ghi789`
5. **Proxy status** : Laissez sur **"DNS only"** (nuage gris)
6. Cliquez **"Save"**

**Enregistrement 2 : CNAME pour DKIM**
1. Cliquez sur **"Add record"**
2. **Type** : S√©lectionnez `CNAME`
3. **Name** : Copiez le "Name" de Resend
   - Exemple : `resend._domainkey`
4. **Target** : Copiez la "Value" de Resend
   - Exemple : `resend._domainkey.resend.com`
5. **Proxy status** : Laissez sur **"DNS only"** (nuage gris)
6. Cliquez **"Save"**

**R√©p√©tez pour tous les enregistrements** que Resend vous a donn√©s !

---

### üü¶ Option B : OVH

#### 4.1 Se connecter
1. Allez sur **https://www.ovh.com/manager**
2. Connectez-vous
3. Cliquez sur **"Zones DNS"** dans le menu

#### 4.2 Acc√©der √† votre zone
1. Cliquez sur votre domaine dans la liste
2. Vous verrez tous vos enregistrements DNS actuels

#### 4.3 Ajouter les enregistrements
1. Cliquez sur **"Ajouter une entr√©e"** (en haut)
2. Pour chaque type d'enregistrement de Resend :

   **Pour TXT :**
   - **Sous-domaine** : Laissez vide ou mettez selon Resend
   - **Type** : `TXT`
   - **Valeur** : Collez la valeur compl√®te de Resend
   - Cliquez **"Suivant"** puis **"Valider"**

   **Pour CNAME :**
   - **Sous-domaine** : Copiez le "Name" de Resend
   - **Type** : `CNAME`
   - **Cible** : Copiez la "Value" de Resend
   - Cliquez **"Suivant"** puis **"Valider"**

---

### üü¶ Option C : Namecheap

#### 4.1 Se connecter
1. Allez sur **https://www.namecheap.com**
2. Connectez-vous
3. Allez dans **"Domain List"**

#### 4.2 Acc√©der aux DNS
1. Cliquez sur **"Manage"** √† c√¥t√© de votre domaine
2. Allez dans l'onglet **"Advanced DNS"**

#### 4.3 Ajouter les enregistrements
1. Dans la section **"Host Records"**, cliquez sur **"Add New Record"**

**Pour TXT :**
- **Type** : `TXT Record`
- **Host** : Laissez `@` ou mettez selon Resend
- **Value** : Collez la valeur de Resend
- **TTL** : `Automatic` ou `1 hour`
- Cliquez sur l'ic√¥ne **‚úì** pour sauvegarder

**Pour CNAME :**
- **Type** : `CNAME Record`
- **Host** : Le "Name" de Resend (ex: `resend._domainkey`)
- **Value** : La "Value" de Resend (ex: `resend._domainkey.resend.com`)
- **TTL** : `Automatic`
- Cliquez sur l'ic√¥ne **‚úì** pour sauvegarder

---

### üü¶ Option D : Google Domains / Squarespace Domains

#### 4.1 Se connecter
1. Allez sur **https://domains.google.com** ou votre panel
2. Connectez-vous

#### 4.2 Acc√©der aux DNS
1. Cliquez sur votre domaine
2. Allez dans **"DNS"** ou **"Custom records"**

#### 4.3 Ajouter les enregistrements
Suivez la m√™me logique que pour les autres h√©bergeurs :
- Ajoutez chaque enregistrement TXT, CNAME, etc. que Resend vous a donn√©s

---

## √âTAPE 5 : Attendre la propagation DNS

### 5.1 Temps d'attente
- ‚è±Ô∏è **Temps normal** : 5-30 minutes
- ‚è±Ô∏è **Temps maximum** : Jusqu'√† 48 heures (rare)

### 5.2 Ce qui se passe
Les serveurs DNS dans le monde mettent √† jour leurs informations. C'est automatique, vous n'avez rien √† faire.

---

## √âTAPE 6 : V√©rifier dans Resend

### 6.1 Actualiser la page Resend
1. Retournez sur **Resend.com** ‚Üí **"Domains"**
2. Cliquez sur votre domaine dans la liste
3. Cliquez sur **"Verify"** ou **"Check Status"**
4. Resend v√©rifie si les enregistrements DNS sont corrects

### 6.2 Statuts possibles

‚úÖ **"Verified"** (V√©rifi√©) :
- Tout est bon ! Votre domaine est pr√™t √† l'emploi
- Vous pouvez utiliser `noreply@votre-domaine.com`

‚ö†Ô∏è **"Pending"** (En attente) :
- Les DNS ne sont pas encore propag√©s
- Attendez encore un peu et r√©essayez plus tard

‚ùå **"Failed"** (√âchec) :
- Il y a une erreur dans les enregistrements
- V√©rifiez que vous avez bien copi√©-coll√© toutes les valeurs
- Assurez-vous qu'il n'y a pas d'espaces avant/apr√®s

---

## √âTAPE 7 : Utiliser votre domaine dans Vercel

### 7.1 Une fois v√©rifi√©
1. Allez dans **Vercel** ‚Üí **Settings** ‚Üí **Environment Variables**
2. Modifiez la variable **`EXPORTS_FROM_EMAIL`** :
   - Ancienne valeur : `onboarding@resend.dev`
   - Nouvelle valeur : `noreply@votre-domaine.com` (remplacez par votre domaine)
3. Ajoutez/modifiez **`INVITES_FROM_EMAIL`** avec la m√™me valeur
4. **Sauvegardez**

### 7.2 Red√©ployer
1. Dans Vercel ‚Üí **Deployments**
2. Cliquez sur les 3 points (...) ‚Üí **"Redeploy"**

---

## üîç V√©rifier que les DNS sont bien configur√©s (Outils)

### Option 1 : V√©rification en ligne
1. Allez sur **https://mxtoolbox.com/TXTLookup.aspx**
2. Entrez votre domaine
3. V√©rifiez que les enregistrements TXT Resend apparaissent

### Option 2 : Ligne de commande (si vous √™tes √† l'aise)
```bash
# V√©rifier les TXT records
nslookup -type=TXT votre-domaine.com

# V√©rifier les CNAME records
nslookup -type=CNAME resend._domainkey.votre-domaine.com
```

---

## ‚ö†Ô∏è Erreurs courantes et solutions

### Erreur : "Domain verification failed"

**Causes possibles :**
1. ‚ùå Vous n'avez pas ajout√© tous les enregistrements
   - ‚úÖ Solution : V√©rifiez que vous avez ajout√© TOUS les enregistrements que Resend vous a donn√©s

2. ‚ùå Il y a une faute de frappe dans les valeurs
   - ‚úÖ Solution : Recopiez soigneusement chaque valeur depuis Resend

3. ‚ùå Les DNS ne sont pas encore propag√©s
   - ‚úÖ Solution : Attendez 30 minutes et r√©essayez

4. ‚ùå Vous avez mis `www.` dans le domaine
   - ‚úÖ Solution : Le domaine doit √™tre sans `www` dans Resend (mais vous pouvez avoir un record CNAME pour www dans vos DNS)

---

## üìù Checklist compl√®te

- [ ] J'ai ajout√© le domaine dans Resend
- [ ] J'ai not√© tous les enregistrements DNS √† ajouter
- [ ] Je sais o√π est h√©berg√© mon domaine (Cloudflare, OVH, etc.)
- [ ] J'ai ajout√© TOUS les enregistrements TXT dans mon h√©bergeur DNS
- [ ] J'ai ajout√© TOUS les enregistrements CNAME dans mon h√©bergeur DNS
- [ ] J'ai attendu au moins 5-10 minutes
- [ ] J'ai cliqu√© sur "Verify" dans Resend
- [ ] Le statut est "Verified" ‚úÖ
- [ ] J'ai mis √† jour `EXPORTS_FROM_EMAIL` dans Vercel avec mon domaine
- [ ] J'ai red√©ploy√© l'application sur Vercel

---

## üí° Bon √† savoir

- Vous pouvez avoir **plusieurs domaines** v√©rifi√©s dans Resend
- Vous pouvez utiliser **n'importe quel pr√©fixe** pour vos emails :
  - `noreply@votre-domaine.com` ‚úÖ
  - `contact@votre-domaine.com` ‚úÖ
  - `hello@votre-domaine.com` ‚úÖ
- Les enregistrements DNS que vous ajoutez ne suppriment pas vos autres enregistrements existants

---

## üÜò Besoin d'aide ?

Si vous √™tes bloqu√©, dites-moi :
1. O√π est h√©berg√© votre domaine ? (Cloudflare, OVH, Namecheap, etc.)
2. √Ä quelle √©tape vous √™tes bloqu√© ?
3. Quel est le message d'erreur que vous voyez ?

Je vous aiderai √©tape par √©tape ! üöÄ

